<div *ngIf="isLoggedIn();then upload_download_page">here is ignored</div>

<ng-template #upload_download_page>
  <div class="container" style="margin-top:50px" id="main-container">
    <h1 align="center">Super Cloud Storage</h1>
    <div class="row" id="updown">
      <div class="col-sm-6" style="z-index: 1;">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Upload your File in complete secure</h3>
          </div>
          <div class="panel-body">
            <!-- <form-upload> -->

            <div *ngIf="currentFileUpload" class="progress">
              <div class="progress-bar progress-bar-info progress-bar-striped"
                   role="progressbar" attr.aria-valuenow="{{progress.percentage}}"
                   aria-valuemin="0" aria-valuemax="100"
                   [ngStyle]="{width:progress.percentage+'%'}">
                {{progress.percentage}}%</div>
            </div>

            <label class="btn btn-default">
              <input type="file" (change)="selectFile($event)">
            </label>

            <div class="form-group">
              <div class='input-group date' id='datetimepicker1'>
                <input type='text' class="form-control" name="expirationTime" id="expirationTime" #expirationTime/>
                <span class="input-group-addon">
                        <span class="fa fa-calendar"></span>
                    </span>
              </div>
            </div>

            <button class="btn btn-success" [disabled]="!selectedFiles"
                    (click)="upload(expirationTime.value)">Upload</button>

            <!-- </form-upload> -->
          </div>
        </div>
      </div>
      <div class="col-sm-6">
        <pie-chart></pie-chart>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-6" style="z-index: 0;">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Download File:</h3>
          </div>
          <div class="panel-body">
              <label for="uuidFile">Enter UUID</label><input type="text" id="uuidFile" class="form-control" name="uuid" #uuid/>
              <br>
              <input type="submit" value="Download" id="btnSubmitDownload" class="btn btn-default" (click)="downloadFile(uuid.value)"/>
          </div>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Response:</h3>
          </div>
          <div class="panel-body">
            <pre id="response"></pre>
          </div>
        </div></div>
    </div>
    <br>
    <!--<div class="row" id="resp">-->
    <!--<div class="col-sm-12">-->
    <!---->
    <!--</div>-->
    <!--</div>-->
  </div>
</ng-template>
